---
import type { Project } from "../lib/projects";

interface Props {
  project: Project;
}

const { project } = Astro.props;
---

<a
  href={`/work/${project.slug}`}
  class="group relative block overflow-hidden rounded-xl bg-[var(--color-foreground)] hover:ring-2 hover:ring-[var(--color-accent)] transition-all duration-300"
  transition:name={`work-${project.slug}-card`}
>
  <div class="aspect-video overflow-hidden">
    <img
      src={project.image}
      alt={project.title}
      class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-out"
      transition:name={`work-${project.slug}-image`}
      loading="lazy"
    />
  </div>
  <div class="p-5">
    <h3
      class="text-lg font-semibold mb-2 text-[var(--color-text)]"
      transition:name={`work-${project.slug}-title`}
    >
      {project.title}
    </h3>
    <p class="text-[var(--color-text-muted)] text-sm mb-4 line-clamp-2">
      {project.description}
    </p>
    <div class="flex flex-wrap gap-2">
      {
        project.tags.map((tag) => (
          <span class="text-xs px-2 py-1 rounded-full bg-[var(--color-background)] text-[var(--color-text-muted)]">
            {tag}
          </span>
        ))
      }
    </div>
  </div>
</a>

<style>
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
</style>
