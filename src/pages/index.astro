---
import Layout from "../layouts/Layout.astro";
import TablerIcon from "../components/TablerIcon.astro";
import { getProjectBySlug } from "../lib/projects";

const featuredSlugs = [
  "koncepcja-wizji-produktu-b2c",
  "readyset-aplikacja-do-planowania-wyjazdow",
] as const;

const featuredProjects = featuredSlugs
  .map((slug) => getProjectBySlug(slug))
  .filter((project) => project !== undefined);

if (featuredProjects.length !== featuredSlugs.length) {
  throw new Error("Brak projektów wymaganych do sekcji home.");
}

const footerNav = [
  { label: "Home", href: "/" },
  { label: "Work", href: "/work" },
  { label: "About", href: "/about" },
  { label: "Contact", href: "/contact" },
] as const;

const socialLinks = [
  { label: "Linkedin", href: "https://linkedin.com" },
  { label: "Github", href: "https://github.com" },
] as const;

const pixelDots = [
  [30, 2.5],
  [30, 5],
  [30, 7.5],
  [32.5, 5],
  [27.5, 5],
  [27.5, 27.5],
  [27.5, 30],
  [27.5, 32.5],
  [25, 30],
  [30, 30],
  [12.5, 22.5],
  [12.5, 7.5],
  [12.5, 25],
  [12.5, 10],
  [12.5, 12.5],
  [17.5, 17.5],
  [20, 17.5],
  [22.5, 17.5],
  [7.5, 17.5],
  [5, 17.5],
  [2.5, 17.5],
  [12.5, 27.5],
  [10, 20],
  [10, 15],
  [15, 15],
  [15, 20],
  [12.5, 17.5],
] as const;
---

<Layout title="Home" description="Portfolio UX/UI - strona główna" showFooter={false}>
  <section class="hidden px-8 pt-[80px] lg:block lg:px-16" aria-hidden="true">
    <div class="mx-auto flex min-h-[20px] w-full items-center">
      <div class="h-px w-full border-b border-[var(--color-subtle)]"></div>
    </div>
  </section>

  <section class="px-8 pt-[80px] lg:hidden" aria-hidden="true">
    <div class="mx-auto flex min-h-[20px] w-full items-center">
      <div class="h-px w-full border-b border-[var(--color-subtle)]"></div>
    </div>
  </section>

  <section
    class="mx-auto w-full max-w-[1040px] px-6 pb-[140px] pt-[80px] lg:px-0 lg:pb-[328px] lg:pt-[80px]"
    aria-labelledby="home-hero-title"
  >
    <h1
      id="home-hero-title"
      aria-label="Portfolio Magdaleny Szczecińskiej"
      class="text-[56px] font-medium leading-[1] tracking-[0] text-[var(--color-text)] lg:text-[88px]"
    >
      ----
    </h1>

    <p
      class="mt-[28px] text-[28px] leading-[1] tracking-[0] text-[var(--color-text)] lg:mt-[28px] lg:text-[32px]"
      aria-hidden="true"
    >
      ----
    </p>

    <div class="mt-[48px] flex flex-wrap items-center gap-[12px] lg:mt-[101px]">
      <a
        href="/work"
        class="group inline-flex items-center gap-[8px] rounded-[10px] bg-[#1e1e1e] px-[24px] py-[14px] text-[16px] font-medium leading-[20px] tracking-[0] text-white shadow-[0px_1px_2px_0px_rgba(0,0,0,0.1)] transition-colors hover:bg-[#111111] focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[var(--color-text)]"
        transition:name="home-work-cta"
      >
        <span>Zobacz moje prace</span>
        <TablerIcon name="arrow-narrow-right" class="size-6" />
      </a>

      <a
        href="/about"
        class="inline-flex items-center justify-center rounded-[10px] border border-[var(--color-text)] bg-[var(--color-foreground)] px-[24px] py-[14px] text-[16px] font-medium leading-[20px] tracking-[0] text-[var(--color-text)] shadow-[0px_1px_2px_0px_rgba(0,0,0,0.1)] transition-colors hover:bg-[var(--color-background)] focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[var(--color-text)]"
        transition:name="home-about-cta"
      >
        O mnie
      </a>
    </div>
  </section>

  <section class="mx-auto w-full max-w-[1040px] px-6 pb-[88px] lg:px-0 lg:pb-[343px]" aria-labelledby="featured-work-title">
    <h2 id="featured-work-title" class="sr-only">Wybrane projekty</h2>

    <div class="grid gap-[64px] lg:grid-cols-[488px_488px] lg:gap-[64px]">
      {
        featuredProjects.map((project) => (
          <article aria-labelledby={`home-work-title-${project.slug}`}>
            <a
              href={`/work/${project.slug}`}
              class="group flex flex-col gap-[32px] focus-visible:outline-2 focus-visible:outline-offset-4 focus-visible:outline-[var(--color-text)]"
              transition:name={`work-${project.slug}-card`}
            >
              <div class="h-[380px] overflow-hidden bg-[var(--color-surface)] lg:h-[500px]">
                <img
                  src={project.image}
                  alt={`Podgląd projektu ${project.title}`}
                  class="size-full object-cover transition-transform duration-300 group-hover:scale-[1.01]"
                  loading="lazy"
                  transition:name={`work-${project.slug}-image`}
                />
              </div>

              <div class="flex flex-col gap-[24px]">
                <div class="flex flex-col gap-[12px]">
                  <h3
                    id={`home-work-title-${project.slug}`}
                    class="text-[24px] leading-[44px] tracking-[0] text-[var(--color-text)]"
                    transition:name={`work-${project.slug}-title`}
                  >
                    {project.title}
                  </h3>

                  <ul class="flex flex-wrap items-center gap-[12px]" aria-label={`Tagi projektu ${project.title}`}>
                    {
                      project.tags.map((tag, tagIndex) => (
                        <li
                          class="rounded-[5555px] border border-[var(--color-border)] px-[12px] py-[8px] text-[12px] leading-[16px] tracking-[0.25px] text-[var(--color-text)]"
                          transition:name={`work-${project.slug}-tag-${tagIndex}`}
                        >
                          {tag}
                        </li>
                      ))
                    }
                  </ul>
                </div>

                <div class="h-[2px] w-full bg-[var(--color-divider)]"></div>

                <p class="text-[16px] leading-[24px] tracking-[0] text-[var(--color-text)]">{project.description}</p>
              </div>
            </a>
          </article>
        ))
      }
    </div>

    <div class="mt-[64px] flex justify-center lg:mt-[73px]">
      <a
        href="/work"
        class="group inline-flex items-center gap-[8px] rounded-[10px] bg-[#1e1e1e] px-[24px] py-[14px] text-[16px] font-medium leading-[20px] tracking-[0] text-white shadow-[0px_1px_2px_0px_rgba(0,0,0,0.1)] transition-colors hover:bg-[#111111] focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[var(--color-text)]"
      >
        <span>Zobacz moje prace</span>
        <TablerIcon name="arrow-narrow-right" class="size-6" />
      </a>
    </div>
  </section>

  <section
    class="mx-auto grid w-full max-w-[1040px] gap-[48px] px-6 pb-[120px] lg:grid-cols-[421px_505px] lg:items-center lg:justify-between lg:gap-[114px] lg:px-0 lg:pb-[651px]"
    aria-labelledby="home-about-title"
  >
    <div
      class="h-[320px] w-full bg-[#c4c4c4] lg:size-[421px]"
      role="img"
      aria-label="Miejsce na zdjęcie profilowe"
      transition:name="about-profile-photo"
    ></div>

    <div class="flex flex-col items-start gap-[32px]">
      <div class="w-full">
        <div class="flex items-center gap-[10px]">
          <h2
            id="home-about-title"
            class="text-[30px] font-medium leading-[44px] tracking-[0] text-[var(--color-text)] lg:text-[36px]"
            transition:name="about-title"
          >
            Cześć, jestem Magda
          </h2>

          <TablerIcon name="sparkles" class="size-8 text-[var(--color-text)]" />
        </div>

        <div class="mt-[24px] h-[2px] w-full bg-[var(--color-divider)]"></div>

        <div class="mt-[24px] flex items-center gap-[12px]">
          <span class="inline-flex size-[16px] rounded-full bg-[#49b46f]" aria-hidden="true"></span>
          <p class="text-[20px] leading-[24px] tracking-[0.5px] text-[var(--color-text-muted)]">Wrocław, PL</p>
        </div>

        <p class="mt-[24px] text-[18px] leading-[1.4] tracking-[0.5px] text-[var(--color-text)] lg:text-[20px] lg:leading-[1.3]">
          Projektuję intuicyjne interfejsy i lubię szybko przekuwać pomysły w działające rozwiązania, wspierając się AI.
        </p>
      </div>

      <a
        href="/about"
        class="group inline-flex items-center gap-[8px] rounded-[10px] border border-[var(--color-text)] bg-[var(--color-foreground)] px-[24px] py-[14px] text-[16px] font-medium leading-[20px] tracking-[0] text-[var(--color-text)] shadow-[0px_1px_2px_0px_rgba(0,0,0,0.1)] transition-colors hover:bg-[var(--color-background)] focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[var(--color-text)]"
      >
        <span>O mnie</span>
        <TablerIcon name="arrow-narrow-right" class="size-6" />
      </a>
    </div>
  </section>

  <footer class="border-t border-[var(--color-divider)] pb-[20px] pt-[40px]" aria-labelledby="home-footer-title">
    <h2 id="home-footer-title" class="sr-only">Stopka i kontakt</h2>

    <div class="mx-auto flex w-full max-w-[1040px] flex-col gap-[40px] px-6 lg:px-0">
      <div class="grid gap-[32px] lg:grid-cols-[40px_63px_103px] lg:gap-[200px]">
        <div class="relative size-[40px]" aria-hidden="true">
          {
            pixelDots.map(([left, top]) => (
              <span
                class="absolute size-[2.5px] bg-[var(--color-text)]"
                style={`left:${left}px;top:${top}px;`}
              ></span>
            ))
          }
        </div>

        <nav aria-label="Nawigacja stopki">
          <ul class="flex flex-col items-start gap-[12px] text-[16px] leading-[22px] text-[var(--color-text)]">
            {
              footerNav.map((item) => (
                <li>
                  <a
                    href={item.href}
                    class="px-[10px] py-[5px] focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[var(--color-text)]"
                  >
                    {item.label}
                  </a>
                </li>
              ))
            }
          </ul>
        </nav>

        <div>
          <ul class="flex flex-col items-start gap-[12px] text-[16px] leading-[22px] text-[var(--color-text)]">
            {
              socialLinks.map((item) => (
                <li>
                  <a
                    href={item.href}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="group inline-flex items-center gap-[12px] focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[var(--color-text)]"
                  >
                    <span>{item.label}</span>
                    <TablerIcon
                      name="arrow-up-right"
                      class="size-8 transition-transform duration-200 group-hover:-translate-y-[1px] group-hover:translate-x-[1px]"
                    />
                  </a>
                </li>
              ))
            }
          </ul>
        </div>
      </div>

      <p class="text-right text-[14px] leading-[19px] text-[var(--color-text)]">© Magdalena Szczecińska 2026</p>
    </div>
  </footer>
</Layout>
