---
import { getAllProjects } from "../../lib/projects";

export function getStaticPaths() {
  return getAllProjects().map((project) => ({
    params: { slug: project.slug },
  }));
}

const { slug } = Astro.params;
const target = `/work/${slug}`;
---

<!doctype html>
<html lang="pl">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="refresh" content={`0;url=${target}`} />
    <link rel="canonical" href={target} />
    <title>Przekierowanie...</title>
  </head>
  <body>
    <p>Przekierowanie do <a href={target}>{target}</a>.</p>
    <script is:inline define:vars={{ target }}>
      window.location.replace(target);
    </script>
  </body>
</html>
